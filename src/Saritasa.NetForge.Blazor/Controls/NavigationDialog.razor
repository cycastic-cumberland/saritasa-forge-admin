@using Saritasa.NetForge.DomainServices.Extensions

<MudDialog DefaultFocus="DefaultFocus.LastChild">
    <DialogContent>
        @{
            IEnumerable<object> collection;

            if (NavigationMetadata.IsCollection)
            {
                collection = (IEnumerable<object>)NavigationInstance;
            }
            else
            {
                collection = new List<object>
                {
                    NavigationInstance
                };
            }

            <MudDataGrid Items="collection">
                <Columns>
                    @foreach (var property in Properties)
                    {
                        <TemplateColumn Title="@property.Name">
                            <CellTemplate Context="cell">
                                @cell.Item.GetPropertyValue(property.Name)
                            </CellTemplate>
                        </TemplateColumn>
                    }
                </Columns>
            </MudDataGrid>
        }
    </DialogContent>

    <DialogActions>
        <MudButton OnClick="Close">Close</MudButton>
    </DialogActions>
</MudDialog>
