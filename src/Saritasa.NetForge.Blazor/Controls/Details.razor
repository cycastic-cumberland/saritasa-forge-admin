@inherits Saritasa.NetForge.Blazor.Pages.MvvmComponentBase<Saritasa.NetForge.Mvvm.ViewModels.Details.DetailsViewModel>

<MudText Typo="Typo.h4">@ViewModel.Model.PluralName</MudText>

<MudText Typo="Typo.body1" Class="pb-5">@ViewModel.Model.Description</MudText>

<MudDataGrid T="object" Items="@ViewModel.Model.Data">
    <Columns>
        @foreach (var property in ViewModel.Model.Properties)
        {
            if (property is { IsForeignKey: false, IsHidden: false })
            {
                <TemplateColumn>
                    <HeaderTemplate>
                        <MudTooltip Text="@property.Description" Arrow="true" Placement="Placement.Top">
                            @(!string.IsNullOrEmpty(property.DisplayName) ? property.DisplayName : property.Name)
                        </MudTooltip>
                    </HeaderTemplate>

                    <CellTemplate>
                        @GetPropertyValue(context.Item, property.Name)
                    </CellTemplate>
                </TemplateColumn>
            }
        }
    </Columns>
</MudDataGrid>
