@using Saritasa.NetForge.Blazor.Extensions
@inherits CustomField

@{
    var propertyType = Property.ClrType;

    if (propertyType == typeof(DateTime) || propertyType == typeof(DateTime?)
         || propertyType == typeof(DateTimeOffset) || propertyType == typeof(DateTimeOffset?))
    {
        <MudTextField Label="@Property.Name.ToMeaningfulName()"
                      Variant="Variant.Outlined"
                      InputType="InputType.DateTimeLocal"
                      Format="s"
                      HelperText="@Property.Description"
                      Disabled="IsReadOnly"
                      @bind-Value="PropertyValue"
                      Error="@FieldErrorModel.IsError"
                      ErrorText="@FieldErrorModel.ErrorMessage">
        </MudTextField>
    }
    else if (propertyType == typeof(DateOnly) || propertyType == typeof(DateOnly?))
    {
        <MudDatePicker Label="@Property.Name.ToMeaningfulName()"
                       Variant="Variant.Outlined"
                       Editable="true"
                       HelperText="@Property.Description"
                       Disabled="IsReadOnly"
                       @bind-Date="PropertyValue"
                       Error="@FieldErrorModel.IsError"
                       ErrorText="@FieldErrorModel.ErrorMessage" />
    }
}
